<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horarios</title>

    <style>
        :root{
            --color-yellow: #FCB814;
            --color-black: #221F20;
        }

        body{
            width: 100%;
            height: 100dvh;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 0;
            margin: 0;
        }

        header{
            width: 100%;
            height: 8%;
            display: flex;
            justify-content: flex-start;
            align-items: center;
            background-color: var(--color-black);
            padding: 0;
            margin: 0;
        }

        header a{
            width: 3rem;
            height: 3rem;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 3rem 0 3rem;
            margin: 0;
        }

        header a img{
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        main{
            width: 100%;
            height: 92%;
            display: flex;
            justify-content: flex-start;
            align-items: center;
            background-color: var(--color-yellow);
            padding: 0;
            margin: 0;
        }
    </style>

</head>
<body>

    <header>
        <a href=""><img src="./assets/ICON-BRUTO-FI-YELLOW.png" alt="LOGO"></a>
    </header>

    <main>
        
    </main>
    

    <script>

        const Universidad = {
            nombre: "UPMH",
            carreras: []
        }

        // --- CLASES ESTRUCTURALES ---

        class Carrera {
            constructor(nombre) {
                this.nombre = nombre
                this.especialidades = []
            }

            agregarEspecialidad(especialidad) {
                if (especialidad instanceof Especialidad) {
                    this.especialidades.push(especialidad)
                }
            }
        }

        const DIAS = ["lunes", "martes", "miercoles", "jueves", "viernes", "sabado"]
        const HORAS = [7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]

        let LAGE = new Carrera("LAGE")

        Universidad.carreras.push(LAGE)

        class Especialidad {
            constructor(nombre) {
                this.nombre = nombre
                this.grados = []
            }

            agregarGrado(grado) {
                if (grado instanceof Grado) {
                    this.grados.push(grado)
                }
            }
        }

        //Especialidades LAGE
        let LAGE_NA = new Especialidad("NA")
        let LAGE_GCH = new Especialidad("GCH")
        let LAGE_EFEP = new Especialidad("EFEP")

        LAGE.agregarEspecialidad(LAGE_NA)
        LAGE.agregarEspecialidad(LAGE_GCH)
        LAGE.agregarEspecialidad(LAGE_EFEP)

        class Grado {
            constructor(nombre) {
                this.nombre = nombre
                this.grupos = []
            }

            agregarGrupo(grupo) {
                if (grupo instanceof Grupo) {
                    this.grupos.push(grupo)
                }
            }
        }

        let LAGE_1ro = new Grado("LAGE_1ro")
        let LAGE_2do = new Grado("LAGE_2do")
        let LAGE_3ro = new Grado("LAGE_3ro")
        let LAGE_4to = new Grado("LAGE_4to")
        let LAGE_5to = new Grado("LAGE_5to")
        let LAGE_6to = new Grado("LAGE_6to")
        let LAGE_7mo = new Grado("LAGE_7mo")
        let LAGE_8vo = new Grado("LAGE_8vo")
        let LAGE_9no = new Grado("LAGE_9no")

        LAGE_NA.agregarGrado(LAGE_1ro)
        LAGE_NA.agregarGrado(LAGE_2do)
        LAGE_NA.agregarGrado(LAGE_3ro)
        LAGE_NA.agregarGrado(LAGE_7mo)
        LAGE_NA.agregarGrado(LAGE_8vo)
        LAGE_NA.agregarGrado(LAGE_9no)

        LAGE_GCH.agregarGrado(LAGE_4to)
        LAGE_GCH.agregarGrado(LAGE_5to)

        LAGE_EFEP.agregarGrado(LAGE_4to)
        LAGE_EFEP.agregarGrado(LAGE_5to)

        class Grupo {
            constructor(nombre) {
                this.nombre = nombre 
                this.materias = []
            }

            agregarMateria(materia) {
                if (materia instanceof Materia) {
                    this.materias.push(materia)
                }
            }
        }

        let LAGE_A = new Grupo("LAGE_A")
        let LAGE_B = new Grupo("LAGE_B")
        let LAGE_C = new Grupo("LAGE_C")
        let LAGE_D = new Grupo("LAGE_D")

        LAGE_1ro.agregarGrupo(LAGE_A)
        LAGE_1ro.agregarGrupo(LAGE_B)
        LAGE_1ro.agregarGrupo(LAGE_C)

        LAGE_4to.agregarGrupo(LAGE_A)
        LAGE_4to.agregarGrupo(LAGE_B)
        LAGE_4to.agregarGrupo(LAGE_C)

        LAGE_7mo.agregarGrupo(LAGE_A)
        LAGE_7mo.agregarGrupo(LAGE_B)
        LAGE_7mo.agregarGrupo(LAGE_C)
        
        // --- CLASE MATERIA (Corregida) ---
        class Materia {
            constructor(nombre_materia, horas_materia, grado_materia, turno_materia, tsu_materia) {
                this.nombre = nombre_materia
                this.nombre_materia = nombre_materia;
                this.horas_materia = horas_materia;
                this.grado_materia = grado_materia;
                this.turno_materia = turno_materia;
                this.tsu_materia = tsu_materia;
                this.docente = null; // Inicializa la referencia al docente
            }

            asignarDocente(docente) {
                if (docente instanceof Docente) {
                    this.docente = docente;
                    // Llama al método del Docente para agregarse a su lista y sumar las horas
                    docente.agregarMateria(this); 
                    console.log(`✅ Materia "${this.nombre_materia}" asignada a ${docente.nombre_docente} ${docente.horas_carga}.`);

                } else {
                    console.error(`❌ Error: Intentando asignar un objeto no Docente a la materia ${this.nombre}.`);
                }
            }
        }
        
        // Materias 1° cuatrimestre LAGE_NA
        let TUTORIS_BIS = new Materia("TUTORISBIS", 3, 1, "MATUTINO", "NA")
        let DESARROLLO_HUMANO_Y_VALORES = new Materia("DESARROLLO HUMANO Y VALORES", 4, 1, "MATUTINO", "NA");
        let FUNDAMENTOS_MATEMATICOS = new Materia("FUNDAMENTOS MATEMATICOS", 7, 1, "MATUTINO", "GCH");
        let FUNDAMENTOS_DE_LA_ADMINISTRACION = new Materia("FUNDAMENTOS DE LA ADMINISTRACION", 4, 1, "MATUTINO", "NA");
        let CONTABILIDAD_I = new Materia("CONTABILIDAD I", 6, 1, "MATUTINO", "NA");
        let MARCO_LEGAL_DE_LAS_ORGANIZACIONES = new Materia("MARCO LEGAL DE LAS ORGANIZACIONES", 4, 1, "MATUTINO", "NA");
        let COMUNICACION_Y_HABILIDADES_DIGITALES = new Materia("COMUNICACION Y HABILIDADES DIGITALES", 5, 1, "MATUTINO", "NA");
        let INGLES_I = new Materia("INGLES I", 15, 1, "MATUTINO", "NA");

        // Materias 4° cuatrimestre (Gestion del capital humano / GCH) 
        let ETICA_PROFESIONAL_GCH = new Materia("ETICA PROFESIONAL", 4, 4, "VESPERTINO", "GCH");
        let GESTION_DEL_CAPITAL_HUMANO = new Materia("GESTION DEL CAPITAL HUMANO", 5, 4, "VESPERTINO", "GCH");
        let INTEGRACIÓN_DEL_CAPITAL_HUMANO = new Materia("INTEGRACION DEL CAPITAL HUMANO", 5, 4, "VESPERTINO", "GCH");
        let COMPORTAMIENTO_ORGANIZACIONAL = new Materia("COMPORTAMIENTO ORGANIZACIONAL", 5, 4, "VESPERTINO", "GCH");
        let SUELDOS_Y_SALARIOS_I = new Materia("SUELDOS Y SALARIOS I", 7, 4, "VESPERTINO", "GCH");
        let LEGISLACION_LABORAL = new Materia("LEGISLACION LABORAL", 4, 4, "VESPERTINO", "GCH");
        let INGLES_IV_GCH = new Materia("INGLES IV", 8, 4, "VESPERTINO", "GCH");

        // Materias 4° cuatrimestre (Emprendimiento y formulacion y evaluacion de proyectos / EFEP)
        let ETICA_PROFESIONAL_EFEP = new Materia("ETICA PROFESIONAL", 4, 4, "VESPERTINO", "EFEP");
        let INNOVACION_Y_EMPRENDIMIENTO = new Materia("INNOVACION Y EMPRENDIMIENTO", 5, 4, "VESPERTINO", "EFEP");
        let ESTUDIO_DE_MERCADO = new Materia("ESTUDIO DE MERCADO", 6, 4, "VESPERTINO", "EFEP");
        let ADMINISTRACIÓN_DE_PROYECTOS_I = new Materia("ESTUDIO DE MERCADO", 5, 4, "VESPERTINO", "EFEP");
        let FUNDAMENTOS_DE_SISTEMAS_DE_PRODUCCIÓN = new Materia("FUNDAMENTOS DE SISTEMAS DE PRODUCCION", 4, 4, "VESPERTINO", "EFEP");
        let ESTUDIO_TÉCNICO_Y_ORGANIZACIONAL = new Materia("ESTUDIO TÉCNICO Y ORGANIZACIONAL", 6, 4, "VESPERTINO", "EFEP");
        let INGLES_IV_EFEP = new Materia("INGLES IV", 8, 4, "VESPERTINO", "EFEP");

        // Materias 7° cuatrimestre LAGE_NA
        let COMERCIO_INTERNACIONAL = new Materia("COMERCIO INTERNACIONAL", 5, 7, "VESPERTINO", "NA")
        let SUSTENTABILIDAD = new Materia("SUSTENTABILIDAD", 5, 7, "VESPERTINO", "NA")
        let CONTRIBUCIONES_FISCALES = new Materia("CONTRIBUCIONES FISCALES", 6, 7, "VESPERTINO", "NA")
        let ADMINISTRACION_DE_LA_PRODUCCION = new Materia("ADMINISTRACION DE LA PRODUCCION", 6, 7, "VESPERTINO", "NA")
        let TECNOLOGIAS_DE_LA_INFORMACION_APLICADA_A_LOS_NEGOCIOS = new Materia("TECNOLOGIAS DE LA INFORMACION APLICADA A LOS NEGOCIOS", 4, 7, "VESPERTINO", "NA")
        let SEMINARIO_DE_LA_INNOVACION = new Materia("SEMINARIO DE LA INNOVACION", 5, 7, "VESPERTINO", "NA")
        let INGLES_VII_EFEP = new Materia("INGLES VII", 5, 7, "VESPERTINO", "EFEP")

        let todas_las_materias_LAGE = [
            // Materias 1° cuatrimestre LAGE_NA
            TUTORIS_BIS,
            DESARROLLO_HUMANO_Y_VALORES,
            FUNDAMENTOS_MATEMATICOS,
            FUNDAMENTOS_DE_LA_ADMINISTRACION,
            CONTABILIDAD_I,
            MARCO_LEGAL_DE_LAS_ORGANIZACIONES,
            COMUNICACION_Y_HABILIDADES_DIGITALES,
            INGLES_I,
            // Materias 4° cuatrimestre (Gestion del capital humano / GCH) 
            ETICA_PROFESIONAL_GCH,
            GESTION_DEL_CAPITAL_HUMANO,
            INTEGRACIÓN_DEL_CAPITAL_HUMANO,
            COMPORTAMIENTO_ORGANIZACIONAL,
            SUELDOS_Y_SALARIOS_I,
            LEGISLACION_LABORAL,
            INGLES_IV_GCH,
            // Materias 4° cuatrimestre (Emprendimiento y formulacion y evaluacion de proyectos / EFEP)
            ETICA_PROFESIONAL_EFEP,
            INNOVACION_Y_EMPRENDIMIENTO,
            ESTUDIO_DE_MERCADO,
            ADMINISTRACIÓN_DE_PROYECTOS_I,
            FUNDAMENTOS_DE_SISTEMAS_DE_PRODUCCIÓN,
            ESTUDIO_TÉCNICO_Y_ORGANIZACIONAL,
            INGLES_IV_EFEP,
            // Materias 7° cuatrimestre LAGE_NA
            COMERCIO_INTERNACIONAL,
            SUSTENTABILIDAD,
            CONTRIBUCIONES_FISCALES,
            ADMINISTRACION_DE_LA_PRODUCCION,
            TECNOLOGIAS_DE_LA_INFORMACION_APLICADA_A_LOS_NEGOCIOS,
            SEMINARIO_DE_LA_INNOVACION,
            INGLES_VII_EFEP


        ]


        // --- CLASE DOCENTE
        class Docente {
            constructor(nombre_docente, dispoinibilidad_lunes, dispoinibilidad_martes, dispoinibilidad_miercoles, dispoinibilidad_jueves, dispoinibilidad_viernes, dispoinibilidad_sabado) {
                this.nombre_docente = nombre_docente;
                this.dispoinibilidad_lunes = dispoinibilidad_lunes;
                this.horas_lunes = 0;
                this.dispoinibilidad_martes = dispoinibilidad_martes;
                this.horas_martes = 0;
                this.dispoinibilidad_miercoles = dispoinibilidad_miercoles;
                this.horas_miercoles = 0;
                this.dispoinibilidad_jueves = dispoinibilidad_jueves;
                this.horas_jueves = 0;
                this.dispoinibilidad_viernes = dispoinibilidad_viernes;
                this.horas_viernes = 0;
                this.dispoinibilidad_sabado = dispoinibilidad_sabado;
                this.horas_sabado = 0;
                this.horas_carga = 0;
                this.horas_disponibilidad = 0; // Se inicializa a 0
                this.materiasImpartidas = [];
            }
            agregarMateria(materia) {
                this.materiasImpartidas.push(materia);
                this.horas_carga += materia.horas_materia;
            }
        }

        let Alonzo_Lara_Flores = new Docente("Alonzo Lara Flores", "7-15 17-21", "9-17", "9-17", "7-15", "7-15", "-")
        let Andres_Dimas_Espino = new Docente("Andres Dimas Espino", "12-21", "9-17", "7-14", "7-15", "7-15", "-")

        const lista_docentes = [Alonzo_Lara_Flores, Andres_Dimas_Espino];

        function calcularHorasDisponibles(disponibilidad_cadena) {
            
            if (disponibilidad_cadena === "-" || disponibilidad_cadena.trim() === "") {
                return 0;
            }

            const total_horas = disponibilidad_cadena
            .split(" ")
            .map(rango => {
                const [inicio, fin] = rango.split("-").map(h => parseInt(h))

                if (isNaN(inicio) || isNaN(fin)) {
                    return 0;
                }

                return fin - inicio;
            })
            .reduce((acumulador, duracion) => {
                return acumulador + duracion
            }, 0);

            return total_horas;
        }

        // Único bucle para procesar a todos los docentes
        for (const docente of lista_docentes) {
            docente.horas_lunes = calcularHorasDisponibles(docente.dispoinibilidad_lunes)
            docente.horas_martes = calcularHorasDisponibles(docente.dispoinibilidad_martes)
            docente.horas_miercoles = calcularHorasDisponibles(docente.dispoinibilidad_miercoles)
            docente.horas_jueves = calcularHorasDisponibles(docente.dispoinibilidad_jueves)
            docente.horas_viernes = calcularHorasDisponibles(docente.dispoinibilidad_viernes)
            docente.horas_sabado = calcularHorasDisponibles(docente.dispoinibilidad_sabado)

            docente.horas_disponibilidad = docente.horas_lunes + docente.horas_martes + docente.horas_miercoles + docente.horas_jueves + docente.horas_viernes + docente.horas_sabado
        }

        FUNDAMENTOS_MATEMATICOS.asignarDocente(Alonzo_Lara_Flores)
        TUTORIS_BIS.asignarDocente(Alonzo_Lara_Flores)

        
        
        


    </script>
</body>
</html>